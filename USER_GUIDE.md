# 中藥資源數據庫 - 用戶說明與維護指南

## 目錄
1. [系統概述](#系統概述)
2. [使用指南](#使用指南)
3. [資料維護](#資料維護)
4. [部署與升級](#部署與升級)
5. [常見問題](#常見問題)
6. [無障礙操作](#無障礙操作)
7. [技術文檔](#技術文檔)

## 系統概述

中藥資源數據庫是一個專業的中藥材檢索與資料查詢系統，採用優雅復古的設計風格，提供27種中藥材的詳細資料，包括性狀鑑定、HPLC圖譜、化學成分測定、檢測標準、農殘重金屬測試、DNA數據等。系統支援中英文雙語切換，並針對不同設備提供響應式設計，確保在桌面電腦、平板與手機上均能良好顯示。

### 主要功能
- 首頁身份驗證：通過數字驗證碼保護資料庫
- 藥材檢索：支援名稱搜尋與分類篩選
- 詳細資料：每種藥材提供7大類詳細資料
- 樣品比較：每種藥材提供13個樣品的比較資料
- 中英文切換：支援完整的中英文雙語界面
- 無障礙功能：支援鍵盤導航、高對比度模式與字體大小調整

## 使用指南

### 首頁驗證
1. 進入網站首頁，系統會顯示數字驗證碼
2. 輸入顯示的驗證碼，點擊「驗證並進入」按鈕
3. 驗證成功後，系統會自動跳轉到藥材檢索主頁

### 藥材檢索
1. 在搜尋框輸入藥材名稱（中文、英文或拼音均可）
2. 使用分類篩選下拉選單選擇藥材分類
3. 點擊搜尋按鈕或按Enter鍵進行搜尋
4. 搜尋結果會以卡片形式顯示在下方
5. 點擊藥材卡片或「查看詳情」連結進入藥材詳情頁

### 藥材詳情頁
1. 頁面上方顯示藥材基本資訊與圖片
2. 中間部分為標籤頁，點擊不同標籤可查看不同類型的資料：
   - 性狀鑑定：來源、性狀、顯微特徵、鑑別要點
   - 化學指標圖譜：HPLC檢測方法、色譜圖、標誌性成分、樣品比較
   - 化學成分測定：主要成分、含量測定、測定方法
   - 檢測標準：藥典標準、質量控制指標、驗收標準
   - 農殘、重金屬測試：農藥殘留、重金屬、測試結果、安全性評估
   - DNA數據：DNA條形碼、序列分析、真偽鑑別
   - 其他資料：傳統用法、現代研究、臨床應用、參考文獻
3. 頁面下方為樣品比較區，點擊不同樣品可查看該樣品的詳細資料

### 語言切換
- 點擊頁面右上角的「中 / EN」按鈕可切換中英文界面
- 系統會記住您的語言偏好，下次訪問時自動使用上次選擇的語言

### 無障礙功能
- 點擊右側的「Aa」按鈕可切換高對比度模式
- 使用「A+」和「A-」按鈕可調整字體大小
- 點擊左下角的「?」按鈕可查看使用說明

## 資料維護

### 資料結構
系統的資料存儲在`src/data`目錄下的JSON文件中：
- `herbs_data.json`：藥材基本資料與性狀鑑定資料
- `hplc_data.json`：HPLC數據
- `samples_data.json`：樣品比較資料

### 更新藥材資料
1. 使用文本編輯器打開相應的JSON文件
2. 按照現有格式修改或添加資料
3. 保存文件並重新部署網站

### 添加新藥材
1. 在`herbs_data.json`中添加新藥材的基本資料
2. 在`hplc_data.json`中添加新藥材的HPLC數據（如有）
3. 在`samples_data.json`中添加新藥材的樣品資料
4. 在`src/assets/herbs`目錄下添加新藥材的圖片，命名為`{herb_id}.jpg`
5. 在`src/assets/samples`目錄下添加新藥材的樣品圖片，命名為`{herb_id}_sample_{sample_id}.jpg`

### 更新圖片
1. 準備好新的圖片文件
2. 替換`src/assets/herbs`或`src/assets/samples`目錄下的相應文件
3. 保持文件名不變，以確保系統能正確識別

## 部署與升級

### 部署環境要求
- Node.js 14.0.0 或更高版本
- npm 6.0.0 或更高版本
- 支援靜態網站的Web伺服器

### 本地開發
1. 克隆代碼庫：`git clone [repository_url]`
2. 安裝依賴：`npm install`
3. 啟動開發伺服器：`npm run dev`
4. 在瀏覽器中訪問：`http://localhost:3000`

### 構建生產版本
1. 執行構建命令：`npm run build`
2. 構建結果將輸出到`dist`目錄

### Vercel部署（推薦）
1. 在Vercel上創建新項目
2. 連接到代碼庫
3. 設置構建命令：`npm run build`
4. 設置輸出目錄：`dist`
5. 點擊部署按鈕

### Netlify部署（備選）
1. 在Netlify上創建新站點
2. 連接到代碼庫
3. 設置構建命令：`npm run build`
4. 設置發布目錄：`dist`
5. 點擊部署按鈕

### 升級注意事項
- 升級前請備份所有資料文件
- 測試新版本在本地環境中的運行情況
- 確保所有功能正常後再部署到生產環境

## 常見問題

### 驗證碼無法顯示
- 檢查瀏覽器是否啟用了JavaScript
- 清除瀏覽器緩存後重試
- 嘗試使用不同的瀏覽器

### 藥材圖片無法顯示
- 確認圖片文件是否存在於正確的目錄
- 檢查圖片文件名是否與JSON資料中的ID一致
- 確認圖片格式為JPG或PNG

### 搜尋功能無法使用
- 確認瀏覽器是否啟用了JavaScript
- 檢查控制台是否有錯誤信息
- 確認JSON資料文件是否正確加載

### 語言切換後頁面顯示異常
- 刷新頁面後重試
- 清除瀏覽器緩存後重試
- 檢查翻譯文本是否完整

## 無障礙操作

### 鍵盤導航
- 使用Tab鍵在頁面元素間導航
- 使用Enter或空格鍵激活選中的元素
- 在標籤頁中，使用左右箭頭鍵切換標籤
- 在樣品比較區，使用箭頭鍵在樣品間導航

### 高對比度模式
- 點擊右側的「Aa」按鈕切換高對比度模式
- 高對比度模式提供更強的色彩對比，適合視力障礙用戶

### 字體大小調整
- 使用「A+」按鈕增大字體
- 使用「A-」按鈕減小字體
- 系統會記住您的字體大小偏好

### 螢幕閱讀器支持
- 所有互動元素都添加了適當的ARIA標籤
- 圖片都提供了替代文本
- 表單元素都有關聯的標籤

## 技術文檔

### 文件結構
```
chinese_medicine_db/
├── src/                  # 源代碼目錄
│   ├── assets/           # 靜態資源
│   │   ├── herbs/        # 藥材圖片
│   │   ├── samples/      # 樣品圖片
│   │   └── decorative/   # 裝飾圖片
│   ├── css/              # 樣式文件
│   ├── js/               # JavaScript文件
│   ├── data/             # 資料文件
│   ├── pages/            # HTML頁面
│   └── index.html        # 首頁
├── dist/                 # 構建輸出目錄
├── package.json          # 項目配置
└── vite.config.js        # Vite配置
```

### 技術棧
- HTML5：頁面結構
- CSS3：樣式與動畫
- JavaScript：互動功能
- Vite：構建工具
- JSON：資料存儲

### 代碼說明
- `main.css`：主要樣式
- `main-page.css`：主頁樣式
- `herb-detail.css`：藥材詳情頁樣式
- `interaction.css`：互動與無障礙樣式
- `captcha.js`：驗證碼功能
- `language.js`：語言切換功能
- `main-page.js`：主頁功能
- `herb-detail.js`：藥材詳情頁功能
- `data-loader.js`：資料載入器
- `accessibility.js`：無障礙功能
- `interaction.js`：互動增強

### 擴展與定制
- 添加新功能：在相應的JS文件中添加新函數
- 修改樣式：編輯CSS文件或添加新的樣式文件
- 添加新頁面：在`pages`目錄下創建新的HTML文件，並在`vite.config.js`中添加入口
